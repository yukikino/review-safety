# ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆã‚µã‚¤ãƒˆ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆï¼ˆæ”¹è¨‚ç‰ˆï¼‰

**æœ€çµ‚æ›´æ–°**: 2025-10-27
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: Design Phase
**ãƒ¬ãƒ“ãƒ¥ãƒ¼**: Codex Review Pending

---

## ç›®æ¬¡

1. [è¨­è¨ˆæ€æƒ³](#è¨­è¨ˆæ€æƒ³)
2. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
3. [ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼](#ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼)
4. [SEOæˆ¦ç•¥](#seoæˆ¦ç•¥)
5. [é‹ç”¨ãƒ•ãƒ­ãƒ¼](#é‹ç”¨ãƒ•ãƒ­ãƒ¼)
6. [ãƒªã‚¹ã‚¯ç®¡ç†](#ãƒªã‚¹ã‚¯ç®¡ç†)
7. [æ”¹å–„ç‚¹ã®åæ˜ ](#æ”¹å–„ç‚¹ã®åæ˜ )

---

## è¨­è¨ˆæ€æƒ³

### ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

**ãƒ‡ãƒ¼ã‚¿é§†å‹• Ã— ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŒ– Ã— è‡ªå‹•ã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ«**

```
ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢      â†’ åˆæœŸæ§‹ç¯‰ + CI/CD ã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ«ï¼ˆä¸€åº¦ã ã‘ï¼‰
éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢    â†’ ãƒ‡ãƒ¼ã‚¿æ›´æ–° + è¨˜äº‹è¿½åŠ ï¼ˆç¶™ç¶šçš„ï¼‰
è‡ªå‹•åŒ–          â†’ ãƒ‡ãƒ—ãƒ­ã‚¤ + SEOãƒã‚§ãƒƒã‚¯ + ãƒ¬ãƒãƒ¼ãƒˆ
```

### è¨­è¨ˆåŸå‰‡

1. **å½¹å‰²åˆ†æ‹…ã®æ˜ç¢ºåŒ–**: æŠ€è¡“è€…ã¨é‹ç”¨è€…ã®å¢ƒç•Œã‚’æ˜ç¤º
2. **ãƒ‡ãƒ¼ã‚¿é§†å‹•**: æ¯”è¼ƒè¡¨ã¯ã‚³ãƒ¼ãƒ‰ã§ã¯ãªããƒ‡ãƒ¼ã‚¿ã§ç®¡ç†
3. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåŒ–**: è¨˜äº‹æ§‹é€ ã‚’å‹åŒ–ã—ã¦SEOå“è³ªã‚’æ‹…ä¿
4. **è‡ªå‹•ã‚¬ãƒ¼ãƒ‰ãƒ¬ãƒ¼ãƒ«**: CIã§å“è³ªãƒã‚§ãƒƒã‚¯ã€äººçš„ãƒŸã‚¹ã‚’é˜²ã
5. **æ®µéšçš„å®Ÿè£…**: 5æ®µéšã§æ©Ÿèƒ½ã‚’ç©ã¿ä¸Šã’ï¼ˆIMPLEMENTATION_PLAN.mdå‚ç…§ï¼‰

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»åŸºç›¤

| æŠ€è¡“                        | å½¹å‰²           | é¸å®šç†ç”±                                                                           |
| --------------------------- | -------------- | ---------------------------------------------------------------------------------- |
| **Next.js 15 (App Router)** | ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | PPRï¼ˆéƒ¨åˆ†çš„ãƒ—ãƒªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼‰ã§SEOæœ€é©ã€ç”»åƒæœ€é©åŒ–ã€è‡ªå‹•ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã€React 19å¯¾å¿œ |
| **TypeScript**              | å‹å®‰å…¨æ€§       | ãƒ‡ãƒ¼ã‚¿ã‚¹ã‚­ãƒ¼ãƒã®æ•´åˆæ€§æ‹…ä¿                                                         |
| **Tailwind CSS**            | ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°   | é«˜é€Ÿé–‹ç™ºã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©                                                       |
| **Vercel**                  | ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°   | è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã€Edgeå¯¾å¿œã€Analyticsæ¨™æº–                                              |

### ãƒ‡ãƒ¼ã‚¿ç®¡ç†

| æŠ€è¡“               | å½¹å‰²         | å®Ÿè£…è©³ç´°                                            |
| ------------------ | ------------ | --------------------------------------------------- |
| **JSON**           | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ | æ¯”è¼ƒè¡¨ï¼ˆä¾¡æ ¼ãƒ»è¿”é‡‘ãƒ»æ—¥æœ¬å¯¾å¿œetc.ï¼‰ã‚’data/ã«ç®¡ç†     |
| **GitHub PR**      | æ›´æ–°ãƒ•ãƒ­ãƒ¼   | ãƒ‡ãƒ¼ã‚¿ç·¨é›† â†’ PRä½œæˆ â†’ ãƒ¬ãƒ“ãƒ¥ãƒ¼ â†’ ãƒãƒ¼ã‚¸ â†’ ãƒ‡ãƒ—ãƒ­ã‚¤ |
| **GitHub Actions** | CI/CD        | ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ â†’ ãƒ“ãƒ«ãƒ‰ â†’ ãƒ‡ãƒ—ãƒ­ã‚¤                      |
| **Zod**            | ã‚¹ã‚­ãƒ¼ãƒæ¤œè¨¼ | JSONãƒ‡ãƒ¼ã‚¿ã®å‹ãƒã‚§ãƒƒã‚¯ï¼ˆãƒ“ãƒ«ãƒ‰æ™‚ï¼‰                  |

### ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†

| æŠ€è¡“                | å½¹å‰²            | å®Ÿè£…è©³ç´°                                   |
| ------------------- | --------------- | ------------------------------------------ |
| **Markdown**        | è¨˜äº‹å½¢å¼        | frontmatter + æœ¬æ–‡ï¼ˆGitHubä¸Šã§ç›´æ¥ç·¨é›†å¯ï¼‰ |
| **gray-matter**     | frontmatterè§£æ | ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æŠ½å‡º                             |
| **remark/rehype**   | Markdownå‡¦ç†    | HTMLå¤‰æ›ã€ç›®æ¬¡ç”Ÿæˆã€ç”»åƒæœ€é©åŒ–             |
| **next-mdx-remote** | MDXå¯¾å¿œ         | å‹•çš„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŸ‹ã‚è¾¼ã¿ï¼ˆæ¯”è¼ƒè¡¨ãªã©ï¼‰   |

### SEOãƒ»æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿

| æŠ€è¡“              | å½¹å‰²                 | å®Ÿè£…è©³ç´°                     |
| ----------------- | -------------------- | ---------------------------- |
| **next-sitemap**  | ã‚µã‚¤ãƒˆãƒãƒƒãƒ—è‡ªå‹•ç”Ÿæˆ | ãƒ“ãƒ«ãƒ‰æ™‚ã«å…¨ãƒšãƒ¼ã‚¸ã‚’åé›†     |
| **next-seo**      | ãƒ¡ã‚¿ã‚¿ã‚°ç®¡ç†         | canonicalã€OGPã€Twitter Card |
| **JSON-LD**       | æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿         | FAQã€HowToã€Article ã‚¹ã‚­ãƒ¼ãƒ |
| **Lighthouse CI** | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬   | PRæ™‚ã«ã‚¹ã‚³ã‚¢å¤‰åŒ–ã‚’è¡¨ç¤º       |

### å“è³ªç®¡ç†

| æŠ€è¡“                  | å½¹å‰²         | å®Ÿè£…è©³ç´°                              |
| --------------------- | ------------ | ------------------------------------- |
| **markdownlint**      | Markdownå“è³ª | è¦‹å‡ºã—éšå±¤ã€ãƒªãƒ³ã‚¯åˆ‡ã‚Œãƒã‚§ãƒƒã‚¯        |
| **ã‚«ã‚¹ã‚¿ãƒ SEOãƒªãƒ³ãƒˆ** | SEOå“è³ª      | ã‚¿ã‚¤ãƒˆãƒ«æ–‡å­—æ•°ã€FAQã®æœ‰ç„¡ãªã©ï¼ˆå¾Œè¿°ï¼‰ |
| **Prettier**          | ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ | ã‚³ãƒ¼ãƒ‰æ•´å½¢                            |
| **ESLint**            | é™çš„è§£æ     | Next.jsæ¨å¥¨ãƒ«ãƒ¼ãƒ«                     |

---

## ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### å…¨ä½“åƒ

```mermaid
graph LR
    A[data/products.json] -->|ç›´æ¥ç·¨é›†| B[GitHub PR]
    B -->|ãƒ¬ãƒ“ãƒ¥ãƒ¼ & ãƒãƒ¼ã‚¸| C[GitHub main branch]
    C -->|auto trigger| D[Vercel Deploy]

    E[Markdownè¨˜äº‹] -->|PR| F[SEO Lint CI]
    F -->|âœ“ pass| C

    D -->|build| G[Next.js SSG]
    G -->|generate| H[é™çš„HTML + JSON-LD]
    H -->|deploy| I[Production Site]

    J[è¨˜äº‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ] -.->|copy & edit| E
```

### ãƒ‡ãƒ¼ã‚¿æ›´æ–°ãƒ•ãƒ­ãƒ¼ï¼ˆè©³ç´°ï¼‰

#### 1. JSONãƒ•ã‚¡ã‚¤ãƒ«ã®ç›´æ¥ç·¨é›†

**ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ**ï¼ˆ`data/products.json`ï¼‰

ãƒ‡ãƒ¼ã‚¿ã¯é…åˆ—å½¢å¼ã®JSONã§ç®¡ç†ã•ã‚Œã€å„å•†å“ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ä»¥ä¸‹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒã¡ã¾ã™ï¼š

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å    | å‹      | å¿…é ˆ | èª¬æ˜                 | ä¾‹              |
| --------------- | ------- | ---- | -------------------- | --------------- |
| `id`            | string  | âœ“    | ä¸€æ„ID               | `surfshark-vpn` |
| `name`          | string  | âœ“    | å•†å“å               | `Surfshark VPN` |
| `price_monthly` | number  | âœ“    | æœˆé¡ä¾¡æ ¼ï¼ˆUSDï¼‰      | `12.95`         |
| `price_annual`  | number  | âœ“    | å¹´é¡ä¾¡æ ¼ï¼ˆUSDï¼‰      | `47.88`         |
| `refund_days`   | number  | âœ“    | è¿”é‡‘ä¿è¨¼æ—¥æ•°         | `30`            |
| `japan_ui`      | boolean | âœ“    | æ—¥æœ¬èªUI             | `true`          |
| `japan_payment` | boolean | âœ“    | æ—¥æœ¬ã®æ±ºæ¸ˆå¯¾å¿œ       | `true`          |
| `japan_support` | boolean | âœ“    | æ—¥æœ¬èªã‚µãƒãƒ¼ãƒˆ       | `false`         |
| `japan_docs`    | boolean | âœ“    | æ—¥æœ¬èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ   | `true`          |
| `affiliate_url` | string  | âœ“    | ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒªãƒ³ã‚¯ | `https://...`   |
| `last_updated`  | string  | âœ“    | æœ€çµ‚ç¢ºèªæ—¥           | `2025-10-27`    |
| `source_url`    | string  | âœ“    | å‡ºå…¸URLï¼ˆå…¬å¼ï¼‰      | `https://...`   |

**ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°è¨ˆç®—**ï¼ˆãƒ“ãƒ«ãƒ‰æ™‚ã«è‡ªå‹•è¨ˆç®—ï¼‰

```typescript
function calculateJapanScore(product: Product): number {
  return [
    product.japan_ui,
    product.japan_payment,
    product.japan_support,
    product.japan_docs,
  ].filter(Boolean).length;
}
```

#### 2. GitHub PRã«ã‚ˆã‚‹æ›´æ–°ãƒ•ãƒ­ãƒ¼

**æ›´æ–°æ‰‹é †**:

1. **ãƒ–ãƒ©ãƒ³ãƒä½œæˆ**: `git checkout -b update-products-data`
2. **JSONãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†**: `data/products.json` ã‚’ç›´æ¥ç·¨é›†
3. **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: `npm run validate-data` ã§Zodã‚¹ã‚­ãƒ¼ãƒãƒã‚§ãƒƒã‚¯
4. **PRä½œæˆ**: GitHubä¸Šã§Pull Requestã‚’ä½œæˆ
5. **CIå®Ÿè¡Œ**: GitHub ActionsãŒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ“ãƒ«ãƒ‰ã‚’ãƒã‚§ãƒƒã‚¯
6. **ãƒ¬ãƒ“ãƒ¥ãƒ¼**: ãƒãƒ¼ãƒ å†…ã§ãƒ‡ãƒ¼ã‚¿ã®æ­£ç¢ºæ€§ã‚’ç¢ºèª
7. **ãƒãƒ¼ã‚¸**: main ãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸ â†’ Vercelè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

**GitHub Actions** (`.github/workflows/validate.yml`)

```yaml
name: Validate Product Data
on:
  pull_request:
    paths:
      - 'data/products.json'
  push:
    branches:
      - main

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - uses: actions/setup-node@v4
        with:
          node-version: '20'

      - name: Install dependencies
        run: npm ci

      - name: Validate Data
        run: node scripts/validate-data.js

      - name: Build Test
        run: npm run build
```

**ãƒ‡ãƒ¼ã‚¿ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ** (`scripts/validate-data.js`)

```javascript
import { z } from 'zod';
import fs from 'fs';

// Zodã‚¹ã‚­ãƒ¼ãƒå®šç¾©
const ProductSchema = z.object({
  id: z.string().regex(/^[a-z0-9-]+$/),
  name: z.string().min(1),
  price_monthly: z.number().positive(),
  price_annual: z.number().positive(),
  refund_days: z.number().int().nonnegative(),
  japan_ui: z.boolean(),
  japan_payment: z.boolean(),
  japan_support: z.boolean(),
  japan_docs: z.boolean(),
  affiliate_url: z.string().url(),
  last_updated: z.string().regex(/^\d{4}-\d{2}-\d{2}$/),
  source_url: z.string().url(),
});

try {
  const products = JSON.parse(fs.readFileSync('data/products.json', 'utf-8'));
  z.array(ProductSchema).parse(products);
  console.log(`âœ“ ${products.length}ä»¶ã®å•†å“ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã—ãŸ`);
} catch (error) {
  console.error('ã‚¨ãƒ©ãƒ¼:', error.message);
  if (error.errors) {
    console.error(
      'ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼:',
      JSON.stringify(error.errors, null, 2)
    );
  }
  process.exit(1);
}
```

**é‡è¦ãªå¤‰æ›´ç‚¹**:

- âœ… JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’GitHubä¸Šã§ç›´æ¥ç®¡ç†
- âœ… PRãƒ™ãƒ¼ã‚¹ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ•ãƒ­ãƒ¼ã§å“è³ªæ‹…ä¿
- âœ… è©³ç´°ãªZodã‚¹ã‚­ãƒ¼ãƒï¼ˆå‹ã¨å½¢å¼ã‚’ãƒã‚§ãƒƒã‚¯ï¼‰
- âœ… ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼ˆè¡Œç•ªå·ä»˜ãï¼‰
- âœ… CI/CDã«ã‚ˆã‚‹è‡ªå‹•æ¤œè¨¼

#### 3. ãƒ“ãƒ«ãƒ‰æ™‚ã®åˆ©ç”¨

```typescript
// app/compare/page.tsx
import products from '@/data/products.json';

export default function ComparePage() {
  // æ—¥æœ¬å¯¾å¿œã‚¹ã‚³ã‚¢ã§ã‚½ãƒ¼ãƒˆ
  const sorted = products.sort((a, b) =>
    (b.japan_ui + b.japan_payment + b.japan_support + b.japan_docs) -
    (a.japan_ui + a.japan_payment + a.japan_support + a.japan_docs)
  );

  return <ComparisonTable products={sorted} />;
}
```

---

## SEOæˆ¦ç•¥

### BOFUè¨­è¨ˆï¼ˆè³¼å…¥ç›´å‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ï¼‰

#### ãƒšãƒ¼ã‚¸æ§‹é€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```markdown
# ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆ30-60æ–‡å­—ã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å‰æ–¹é…ç½®ï¼‰

## çµè«–ãƒœãƒƒã‚¯ã‚¹ï¼ˆä¸Šéƒ¨å›ºå®šï¼‰

- **æœ€å®‰å€¤**: {product} - ${price}/æœˆ
- **è¿”é‡‘ä¿è¨¼**: æœ€é•·{days}æ—¥é–“
- **æ—¥æœ¬å¯¾å¿œåº¦**: â­â­â­â­â˜† (4/5)
- ğŸ‘‰ [å…¬å¼ã‚µã‚¤ãƒˆã§æœ€æ–°ä¾¡æ ¼ã‚’ç¢ºèª](#)

## æ¯”è¼ƒè¡¨ï¼ˆå‹•çš„ç”Ÿæˆï¼‰

{products.json ã‹ã‚‰è‡ªå‹•ç”Ÿæˆ}

## è©³ç´°ãƒ¬ãƒ“ãƒ¥ãƒ¼

### {å•†å“å1}

#### è‰¯ã„ç‚¹

#### æ‚ªã„ç‚¹

#### è¿”é‡‘ãƒ»è§£ç´„æ–¹æ³•ï¼ˆå…ˆå‡ºã—ï¼‰

## FAQï¼ˆæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼‰

### Q1: ...

### Q2: ...

## é–¢é€£è¨˜äº‹ï¼ˆå†…éƒ¨ãƒªãƒ³ã‚¯ï¼‰

- [è©³ç´°ãƒ¬ãƒ“ãƒ¥ãƒ¼] â† å€‹åˆ¥å•†å“ãƒšãƒ¼ã‚¸
- [ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰] â† HowToè¨˜äº‹
```

### SEOãƒªãƒ³ãƒˆï¼ˆCIè‡ªå‹•ãƒã‚§ãƒƒã‚¯ï¼‰

**ãƒã‚§ãƒƒã‚¯é …ç›®** (`scripts/seo-lint.js`)

```javascript
const rules = {
  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
  titleLength: { min: 30, max: 60 },
  descriptionLength: { min: 120, max: 160 },

  // è¦‹å‡ºã—æ§‹é€ 
  h1Count: { exact: 1 },
  h2MinCount: { min: 3 },
  headingHierarchy: true, // H2â†’H3â†’H4 ã®é †åº

  // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
  minWordCount: 1500,
  maxWordCount: 5000,

  // å¿…é ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³
  requiredSections: ['è¿”é‡‘', 'è§£ç´„', 'FAQ', 'æ¯”è¼ƒ'],

  // ãƒªãƒ³ã‚¯
  internalLinksMin: 3,
  externalLinksMin: 2,
  brokenLinks: false,

  // ç”»åƒ
  allImagesHaveAlt: true,
  imageFormat: ['webp', 'jpg', 'png'],

  // æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿
  jsonLdExists: true,
  jsonLdValid: true,
  faqSchemaExists: true,
};
```

**CIçµ±åˆ** (`.github/workflows/seo-check.yml`)

```yaml
name: SEO Quality Check
on: [pull_request]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: npm ci
      - run: npm run seo-lint
      - run: npm run build # Zodãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å«ã‚€

      - name: Lighthouse CI
        uses: treosh/lighthouse-ci-action@v10
        with:
          urls: |
            http://localhost:3000
            http://localhost:3000/compare
          uploadArtifacts: true
```

### æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿å®Ÿè£…

**FAQ Schema** (`components/faq-schema.tsx`)

```typescript
export function FAQSchema({ items }: { items: Array<{ q: string; a: string }> }) {
  const schema = {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": items.map(item => ({
      "@type": "Question",
      "name": item.q,
      "acceptedAnswer": {
        "@type": "Answer",
        "text": item.a
      }
    }))
  };

  return (
    <script
      type="application/ld+json"
      dangerouslySetInnerHTML={{ __html: JSON.stringify(schema) }}
    />
  );
}
```

**Article Schema** (è‡ªå‹•ç”Ÿæˆ)

```typescript
// app/review/[slug]/page.tsx
export function generateMetadata({ params }) {
  const article = getArticle(params.slug);

  return {
    title: article.title,
    description: article.description,
    alternates: {
      canonical: `https://example.com/review/${params.slug}`
    },
    openGraph: { /* ... */ },
    other: {
      'article:published_time': article.publishedAt,
      'article:modified_time': article.updatedAt
    }
  };
}

export default function ArticlePage({ params }) {
  const schema = {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": article.title,
    "datePublished": article.publishedAt,
    "dateModified": article.updatedAt,
    "author": { "@type": "Organization", "name": "Site Name" }
  };

  return (
    <>
      <script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(schema) }} />
      {/* è¨˜äº‹æœ¬æ–‡ */}
    </>
  );
}
```

---

## é‹ç”¨ãƒ•ãƒ­ãƒ¼

### A. æ¯”è¼ƒè¡¨æ›´æ–°ï¼ˆPRãƒ™ãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼ï¼‰

**æ‰€è¦æ™‚é–“**: 10-15åˆ†

1. ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
   ```bash
   git checkout -b update-product-data
   ```

2. `data/products.json` ã‚’ç›´æ¥ç·¨é›†
   - ä¾¡æ ¼ãƒ»è¿”é‡‘æ—¥æ•°ãªã©ã‚’æ›´æ–°
   - `last_updated` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä»Šæ—¥ã®æ—¥ä»˜ã«å¤‰æ›´

3. ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
   ```bash
   npm run validate-data
   ```

4. ã‚³ãƒŸãƒƒãƒˆ & ãƒ—ãƒƒã‚·ãƒ¥
   ```bash
   git add data/products.json
   git commit -m "chore: update product data"
   git push origin update-product-data
   ```

5. GitHubä¸Šã§PRä½œæˆ
   - CI ãŒè‡ªå‹•ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œ
   - ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆä¸‹è¨˜ï¼‰ã‚’ç¢ºèª

6. ãƒ¬ãƒ“ãƒ¥ãƒ¼å¾Œã«ãƒãƒ¼ã‚¸ â†’ Vercel è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

**ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ** (PRãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«è¡¨ç¤º)

- [ ] ä¾¡æ ¼è¡¨ç¤ºãŒæ­£ã—ã„ã‹
- [ ] è¿”é‡‘æ—¥æ•°ãŒæ­£ã—ã„ã‹
- [ ] æ—¥æœ¬å¯¾å¿œãƒ•ãƒ©ã‚°ãŒæ­£ç¢ºã‹
- [ ] ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒªãƒ³ã‚¯ãŒæ­£ã—ã„ã‹
- [ ] `last_updated` ãŒä»Šæ—¥ã®æ—¥ä»˜ã‹
- [ ] JSONãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒæ­£ã—ã„ã‹ï¼ˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é€šéï¼‰

### B. è¨˜äº‹è¿½åŠ ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬åˆ©ç”¨ï¼‰

**æ‰€è¦æ™‚é–“**: 30åˆ†ï¼ˆåŸ·ç­†é™¤ãï¼‰

1. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼

   ```bash
   cp templates/review.md content/review/new-product.md
   ```

2. Frontmatter ã‚’ç·¨é›†

   ```yaml
   ---
   title: 'ã€2025å¹´æœ€æ–°ã€‘{å•†å“å}ã®è©•åˆ¤ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼'
   description: '{å•†å“å}ã®å®Ÿéš›ã®ä½¿ç”¨æ„Ÿã€æ–™é‡‘ã€è¿”é‡‘æ–¹æ³•ã‚’å¾¹åº•è§£èª¬...'
   publishedAt: '2025-10-27'
   updatedAt: '2025-10-27'
   category: 'review'
   productId: 'product-id' # products.json ã® id
   keywords: ['å•†å“å', 'ãƒ¬ãƒ“ãƒ¥ãƒ¼', 'è©•åˆ¤']
   ---
   ```

3. æœ¬æ–‡ã‚’åŸ·ç­†ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã® `` ã‚’åŸ‹ã‚ã‚‹ï¼‰

4. PRä½œæˆ

   ```bash
   git checkout -b article/new-product
   git add content/review/new-product.md
   git commit -m "feat: add review for new product"
   git push origin article/new-product
   gh pr create --title "æ–°è¦è¨˜äº‹: {å•†å“å}ãƒ¬ãƒ“ãƒ¥ãƒ¼" --body "$(cat .github/PULL_REQUEST_TEMPLATE.md)"
   ```

5. CI ãŒ SEOãƒªãƒ³ãƒˆå®Ÿè¡Œ â†’ çµæœã‚’ç¢ºèª

6. ä¿®æ­£ â†’ å†ãƒ—ãƒƒã‚·ãƒ¥ â†’ âœ“ â†’ ãƒãƒ¼ã‚¸

### C. é€±æ¬¡ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

**æ¯é€±æœˆæ›œ 10:00** (GitHub Actions è‡ªå‹•å®Ÿè¡Œ)

1. **EPC Ã— æ—¥æœ¬å¯¾å¿œã‚¹ã‚³ã‚¢ æ£šå¸ã—**
   - ASPã®ç®¡ç†ç”»é¢ã‹ã‚‰EPCãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆæ‰‹å‹•ï¼‰
   - `data/epc.json` ã«è¿½è¨˜
   - Actions ãŒè‡ªå‹•ã§ã€Œæ¨å¥¨å•†å“ã€é †ä½ã‚’æ›´æ–°

2. **ãƒªãƒ³ã‚¯åˆ‡ã‚Œãƒã‚§ãƒƒã‚¯**

   ```bash
   npm run check-links
   ```

3. **ç”»åƒæœ€é©åŒ–**
   - æ–°è¦è¿½åŠ ç”»åƒã‚’è‡ªå‹•ã§ WebP å¤‰æ›
   - Cloudinary or Vercel Image Optimization

4. **ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ**
   - GA4ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆä¸Šä½10è¨˜äº‹ã®PVãƒ»CVRï¼‰
   - Slacké€šçŸ¥

---

## ãƒªã‚¹ã‚¯ç®¡ç†

### 1. æ³•çš„ãƒªã‚¹ã‚¯å¯¾ç­–

#### A. å…è²¬æ–‡è¨€ï¼ˆå…¨ãƒšãƒ¼ã‚¸ãƒ•ãƒƒã‚¿ãƒ¼ï¼‰

```html
<footer>
  <p class="text-xs text-gray-500">
    â€» ä¾¡æ ¼ãƒ»è¿”é‡‘æ¡ä»¶ã¯{æœ€çµ‚ç¢ºèªæ—¥}æ™‚ç‚¹ã®æƒ…å ±ã§ã™ã€‚æœ€æ–°æƒ…å ±ã¯
    <a href="{å…¬å¼URL}" class="underline">å…¬å¼ã‚µã‚¤ãƒˆ</a>ã§ã”ç¢ºèªãã ã•ã„ã€‚
    å½“ã‚µã‚¤ãƒˆã¯ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«å‚åŠ ã—ã¦ãŠã‚Šã€
    ç´¹ä»‹ãƒªãƒ³ã‚¯ã‹ã‚‰è³¼å…¥ã•ã‚ŒãŸå ´åˆã«å ±é…¬ã‚’å¾—ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
  </p>
</footer>
```

#### B. æœ€çµ‚ç¢ºèªæ—¥ã®è¡¨ç¤ºï¼ˆæ¯”è¼ƒè¡¨å†…ï¼‰

```tsx
<TableCell>
  ${product.price_monthly}/æœˆ
  <span className="text-xs text-gray-400 block">
    ç¢ºèªæ—¥: {product.last_updated}
  </span>
</TableCell>
```

#### C. ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒªãƒ³ã‚¯ã®é©åˆ‡ãªé–‹ç¤º

**å…¬å¼ã‚µã‚¤ãƒˆãƒªãƒ³ã‚¯**ï¼ˆæƒ…å ±ç¢ºèªç”¨ï¼‰

```tsx
<a
  href={product.source_url}
  target="_blank"
  rel="noopener noreferrer"
  className="text-blue-600 underline"
>
  å…¬å¼ã‚µã‚¤ãƒˆã§æœ€æ–°æƒ…å ±ã‚’ç¢ºèª
</a>
```

**ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒªãƒ³ã‚¯**ï¼ˆè³¼å…¥å°ç·šï¼‰

```tsx
<a
  href={product.affiliate_url}
  target="_blank"
  rel="sponsored nofollow noopener"
  className="btn btn-primary"
>
  {product.name}ã‚’è¦‹ã‚‹
  <span className="text-xs ml-2">(PR)</span>
</a>
```

**é‡è¦**:

- âœ… `rel="sponsored"`: ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆãƒªãƒ³ã‚¯ã§ã‚ã‚‹ã“ã¨ã‚’æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã«é€šçŸ¥ï¼ˆGoogleæ¨å¥¨ï¼‰
- âœ… `rel="nofollow"`: PageRankã‚’æ¸¡ã•ãªã„ï¼ˆå¤ã„æ…£ç¿’ã ãŒä½µç”¨ãŒå®‰å…¨ï¼‰
- âœ… `(PR)` è¡¨è¨˜: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åºƒå‘Šã§ã‚ã‚‹ã“ã¨ã‚’æ˜ç¤ºï¼ˆè–¬æ©Ÿæ³•ãƒ»æ™¯è¡¨æ³•å¯¾ç­–ï¼‰

### 2. ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§

#### A. Zodã‚¹ã‚­ãƒ¼ãƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ“ãƒ«ãƒ‰æ™‚ï¼‰

```typescript
// scripts/validate-data.js
import { z } from 'zod';
import fs from 'fs';

// å…±é€šã®Productã‚¹ã‚­ãƒ¼ãƒå®šç¾©
const ProductSchema = z.object({
  id: z.string().regex(/^[a-z0-9-]+$/),
  name: z.string().min(1),
  price_monthly: z.number().positive(),
  price_annual: z.number().positive(),
  refund_days: z.number().int().nonnegative(),
  japan_ui: z.boolean(),
  japan_payment: z.boolean(),
  japan_support: z.boolean(),
  japan_docs: z.boolean(),
  affiliate_url: z.string().url(),
  last_updated: z.string().regex(/^\d{4}-\d{2}-\d{2}$/), // YYYY-MM-DDå½¢å¼
  source_url: z.string().url(),
});

try {
  const products = JSON.parse(fs.readFileSync('data/products.json', 'utf-8'));
  z.array(ProductSchema).parse(products);
  console.log(`âœ“ Data validation passed (${products.length} products)`);
} catch (error) {
  console.error('âœ— Data validation failed:', error.message);
  if (error.errors) {
    console.error('Details:', JSON.stringify(error.errors, null, 2));
  }
  process.exit(1);
}
```

**æ¨å¥¨**: å°†æ¥çš„ã«ã¯ `lib/schema.ts` ã«å…±é€šã‚¹ã‚­ãƒ¼ãƒã‚’å®šç¾©ã—ã€è¤‡æ•°ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã€‚

#### B. ä¾¡æ ¼å¤‰å‹•ã‚¢ãƒ©ãƒ¼ãƒˆ

```yaml
# .github/workflows/price-alert.yml
- name: Check Price Changes
  run: |
    git diff HEAD~1 data/products.json | grep price_monthly && \
    curl -X POST ${{ secrets.SLACK_WEBHOOK }} \
      -d '{"text": "ä¾¡æ ¼ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸã€‚è¨˜äº‹ã®ä¿®æ­£ãŒå¿…è¦ãªå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚"}'
```

### 3. æ—¥æœ¬å¯¾å¿œãƒ•ãƒ©ã‚°ã®åŸºæº–

#### æ˜ç¢ºãªåˆ¤å®šåŸºæº–

| ãƒ•ãƒ©ã‚°          | æ¡ä»¶                          | ç¢ºèªæ–¹æ³•                       |
| --------------- | ----------------------------- | ------------------------------ |
| `japan_ui`      | ç®¡ç†ç”»é¢ãƒ»ã‚µã‚¤ãƒˆãŒæ—¥æœ¬èªè¡¨ç¤º  | ãƒ­ã‚°ã‚¤ãƒ³å¾Œã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ |
| `japan_payment` | JCB/ã‚³ãƒ³ãƒ“ãƒ‹/PayPayç­‰ãŒåˆ©ç”¨å¯ | æ±ºæ¸ˆç”»é¢ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ   |
| `japan_support` | æ—¥æœ¬èªãƒãƒ£ãƒƒãƒˆ or ãƒ¡ãƒ¼ãƒ«å¯¾å¿œ  | ã‚µãƒãƒ¼ãƒˆå•ã„åˆã‚ã›ã®è¿”ä¿¡       |
| `japan_docs`    | ãƒ˜ãƒ«ãƒ—ã‚»ãƒ³ã‚¿ãƒ¼ãŒæ—¥æœ¬èª        | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆURLã®è¨€èªç¢ºèª      |

#### ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯

```typescript
function calculateJapanScore(product: Product): number {
  return [
    product.japan_ui,
    product.japan_payment,
    product.japan_support,
    product.japan_docs,
  ].filter(Boolean).length;
}

// è¡¨ç¤ºæ™‚ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
const japanFriendly = products.filter((p) => calculateJapanScore(p) >= 3);
```

### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

#### Lighthouse CI ã®é–¾å€¤

```json
{
  "ci": {
    "assert": {
      "assertions": {
        "categories:performance": ["error", { "minScore": 0.9 }],
        "categories:accessibility": ["error", { "minScore": 0.9 }],
        "categories:seo": ["error", { "minScore": 0.95 }],
        "first-contentful-paint": ["error", { "maxNumericValue": 2000 }],
        "largest-contentful-paint": ["error", { "maxNumericValue": 2500 }]
      }
    }
  }
}
```

---

## æ”¹å–„ç‚¹ã®åæ˜ 

### Criticalä¿®æ­£ï¼ˆåˆæœŸãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œï¼‰

| #   | æŒ‡æ‘˜                     | å¯¾å¿œå†…å®¹                                                  | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‚ç…§              |
| --- | ------------------------ | --------------------------------------------------------- | ----------------------------- |
| 1   | ãƒ‡ãƒ¼ã‚¿ç®¡ç†ãƒ•ãƒ­ãƒ¼ãŒæ›–æ˜§   | GitHub PRãƒ™ãƒ¼ã‚¹ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¨ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…ã‚’æ˜è¨˜   | [ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼](#ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼) |
| 2   | æ³•çš„ãƒªã‚¹ã‚¯å¯¾ç­–ãŒä¸è¶³     | å…è²¬æ–‡è¨€ã€æœ€çµ‚ç¢ºèªæ—¥ã€å…¬å¼ãƒªãƒ³ã‚¯èª˜å°ã‚’æ¨™æº–åŒ–              | [ãƒªã‚¹ã‚¯ç®¡ç†](#ãƒªã‚¹ã‚¯ç®¡ç†)     |
| 3   | SEOãƒªãƒ³ãƒˆã®å®šç¾©ãŒä¸æ˜ç¢º  | 14é …ç›®ã®å…·ä½“çš„ãƒã‚§ãƒƒã‚¯å†…å®¹ã‚’åˆ—æŒ™                          | [SEOæˆ¦ç•¥](#seoæˆ¦ç•¥)           |

### Importantä¿®æ­£

| #   | æŒ‡æ‘˜                       | å¯¾å¿œå†…å®¹                               | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‚ç…§          |
| --- | -------------------------- | -------------------------------------- | ------------------------- |
| 4   | ABãƒ†ã‚¹ãƒˆã®ä»•çµ„ã¿ãŒæœªå®šç¾©   | Stage 5 ã§ Vercel Edge Config å®Ÿè£…äºˆå®š | IMPLEMENTATION_PLAN.md    |
| 5   | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å±¥æ­´ç®¡ç†ãŒå¼±ã„   | PRãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ + æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ  | [é‹ç”¨ãƒ•ãƒ­ãƒ¼](#é‹ç”¨ãƒ•ãƒ­ãƒ¼) |
| 6   | æ—¥æœ¬å¯¾å¿œãƒ•ãƒ©ã‚°ã®åŸºæº–ãŒæ›–æ˜§ | 4é …ç›®ã®æ˜ç¢ºãªåˆ¤å®šåŸºæº–ã¨ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°    | [ãƒªã‚¹ã‚¯ç®¡ç†](#ãƒªã‚¹ã‚¯ç®¡ç†) |

### Nice to Haveï¼ˆStage 4ä»¥é™ï¼‰

- Lighthouse CI ã‚¹ã‚³ã‚¢ã®PRè¡¨ç¤º
- VSCode snippets for article templates
- ç”»åƒã®è‡ªå‹•WebPå¤‰æ›

---

## Next Steps

1. **Codex ãƒ¬ãƒ“ãƒ¥ãƒ¼**: ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æŠ€è¡“çš„å¦¥å½“æ€§ã‚’æ¤œè¨¼
2. **IMPLEMENTATION_PLAN.md ä½œæˆ**: 5æ®µéšã®è©³ç´°è¨ˆç”»
3. **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—æ§‹ç¯‰**: Stage 1-2 ã®å®Ÿè£…é–‹å§‹

---

## å‚è€ƒè³‡æ–™

- [Next.js App Router Docs](https://nextjs.org/docs/app)
- [Zod Schema Validation](https://zod.dev/)
- [Schema.org FAQ](https://schema.org/FAQPage)
- [Core Web Vitals](https://web.dev/vitals/)
